!function(e){function t(t){e("div.lazyYT",t).each(function(){e(this).replaceWith("<p>https://youtube.com/watch?v="+e(this).data("youtube-id")+"</p>")})}function i(e,t){var i="gray 0 0 "+t+"px",r="-webkit-user-select";n&&(i=t<=0?"0 0 0 0 gray":"0 0 "+t+"px .1px gray",r="-ms-user-select"),a&&(r="-moz-user-select"),e.css("background-color","transparent").css("color","rgba(0,0,0,0)").css("text-shadow",i).css(r,"none")}function r(e,t){var i=t>0?"blur("+t+"px)":"";n?e.css("-ms-filter","progid:DXImageTransform.Microsoft.Blur(pixelradius="+t+")"):e.css("filter",i).css("-webkit-filter",i)}function o(t,i){e("a",t).addClass("no-track-link"),e("a,pre",t).each(function(t,o){r(e(o),i)})}function s(t,i){var o=e("img",t);n?o.css("opacity",0===i?"1.0":"0.0"):r(o,i)}var n=document.documentMode,a="undefined"!=typeof InstallTrigger,l={max:{text:10,link:10,image:20},partial:{text:5,link:5,image:6},none:{text:0,link:0,image:0}},u=function(e,r){t(e),i(e,r.text),o(e,r.link),s(e,r.image)},p=function(e,t){var i=t.max,r=t.partial,o=t.none;e.data("spoiler-state","blurred"),u(e,i),e.on("mouseover",function(){e.css("cursor","pointer"),"blurred"===e.data("spoiler-state")&&u(e,r)}).on("mouseout",function(){"blurred"===e.data("spoiler-state")&&u(e,i)}).on("click",function(t){"blurred"===e.data("spoiler-state")?(e.data("spoiler-state","revealed").css("cursor","auto"),u(e,o),t.preventDefault()):t.target&&"A"!==t.target.tagName&&(e.data("spoiler-state","blurred").css("cursor","pointer"),u(e,r),t.preventDefault())})};e.fn.spoil=function(t){var i=e.extend(l,t||{});return this.each(function(){p(e(this),i)})}}(jQuery),define("discourse/plugins/discourse-spoiler-alert/lib/discourse-markdown/spoiler-alert",["exports","pretty-text/pretty-text"],function(e,t){"use strict";function i(e,t){var i=n.test(t)?"div":"span";return"<"+i+" class='spoiler'>"+t+"</"+i+">"}function r(e){for(e=e||"";e!==(e=e.replace(/\[spoiler\]((?:(?!\[spoiler\]|\[\/spoiler\])[\S\s])*)\[\/spoiler\]/gi,i)););return e}function o(e){e.registerOptions(function(e,t){e.features["spoiler-alert"]=!!t.spoiler_enabled}),e.registerPlugin(function(e){e.inline.bbcode.ruler.push("spoiler",{tag:"spoiler",wrap:"span.spoiler"}),e.block.bbcode.ruler.push("spoiler",{tag:"spoiler",wrap:"div.spoiler"})})}function s(e){e.whiteList(["span.spoiler","div.spoiler"]),e.markdownIt?o(e):e.addPreProcessor(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.setup=s,(0,t.registerOption)(function(e,t){t.features["spoiler-alert"]=!!e.spoiler_enabled});var n=/\n|<img|!\[[^\]]*\][(\[]/}),define("discourse/plugins/discourse-spoiler-alert/initializers/spoiler-alert",["exports","discourse/lib/plugin-api","discourse/lib/to-markdown","discourse/controllers/composer"],function(e,t,i,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){$(".spoiler",e).removeClass("spoiler").addClass("spoiled").spoil()}function l(e){e.decorateCooked(a,{id:"spoiler-alert"}),e.addToolbarPopupMenuOptionsCallback(function(){return{action:"insertSpoiler",icon:"magic",label:"spoiler.title"}}),r.default.reopen({actions:{insertSpoiler:function(){this.get("toolbarEvent").applySurround("[spoiler]","[/spoiler]","spoiler_text",{multiline:!1,useBlockMode:!0})}}}),i.Tag&&(i.Tag.prototype.decorate=function(e){return"spoiled"===this.element.attributes.class&&(this.prefix="[spoiler]",this.suffix="[/spoiler]"),(this.prefix||this.suffix)&&(e=[this.prefix,e,this.suffix].join("")),this.inline&&(e=" "+e+" "),e},i.Tag.block=function(e,t,r){return function(i){function a(){o(this,a);var i=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,r));return i.gap="\n\n",i}return n(a,i),u(a,[{key:"decorate",value:function(e){var t=this.element.attributes,i=this.element.parent;return"p"===this.name&&i&&"li"===i.name&&(this.gap=""),"div"===this.name&&"spoiled"===t.class&&(this.prefix="[spoiler]",this.suffix="[/spoiler]",e=e.trim()),""+this.gap+this.prefix+e+this.suffix+this.gap}}]),a}(i.Tag)})}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();e.default={name:"apply-spoilers",initialize:function(e){e.lookup("site-settings:main").spoiler_enabled&&(0,t.withPluginApi)("0.5",l)}}});
//# sourceMappingURL=/assets/plugins/discourse-spoiler-alert-879af4676ef82cecbf2c2da8094afae7b5f16ec074e64c9cb058012458a072dc.js.map